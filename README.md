# üìò API: –ü–†–û–¶–ï–î–£–†–ù–´–ï –ö–ê–ë–ò–ù–ï–¢–´ –∏ –í—Ä–∞—á–∏ 
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown, –≤ –æ–¥–Ω–æ–º —Ü–µ–ª—å–Ω–æ–º –±–ª–æ–∫–µ –±–µ–∑ —Ä–∞–∑–±–∏–≤–∫–∏ –ø–æ —á–∞—Å—Ç—è–º. –ë–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –±–ª–æ–∫–∏. –≠—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ !!!

## üì¶ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç API –ø—Ä–∏—Ö–æ–¥—è—Ç —Å HTTP —Å—Ç–∞—Ç—É—Å–æ–º **200 OK**, –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.  
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ –ø–æ–ª—é `status` –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞:

- `"status": "success"` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.
- `"status": "fail"` ‚Äî –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–ª—è—Ö `error` –∏ `code`.


## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –º–µ—Ç–æ–¥—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

X-Api-Key: {your_api_key}

–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º API-–∫–ª—é—á–µ:
```json
{
  "status": "fail",
  "error": "–ù–µ –≤–µ—Ä–Ω—ã–π API –∫–ª—é—á",
  "code": 2
}
```

# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤.

`–ú–µ—Ç–æ–¥: POST /api/price/schedule/procedure-rooms`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–û—Ç–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤. (–µ—Å–ª–∏ –≤ –æ–æ—Ç–≤–µ—Ç–µ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –ø–æ—è–≤–ª—è—Ç—Å—è –∫–∞–±–∏–Ω–µ—Ç - –∑–Ω–∞—á–∏—Ç –∫–∞–±–∏–Ω–µ—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω. –ò–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª –±—ã—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º –∫–∞–±–∏–Ω–µ—Ç–æ–º crm.room.is_procedure = 0)<br>
–ï—Å–ª–∏ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–µ—Ä–µ–¥–∞–Ω –º–∞—Å—Å–∏–≤ `crm_room_ids`, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–±–∏–Ω–µ—Ç—ã —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ ID; –∏–Ω–∞—á–µ ‚Äî –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã.

## –ó–∞–ø—Ä–æ—Å

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**  
- `Content-Type: application/json`

**–ú–æ–∂–Ω–æ –ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤**<br>
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (application/json):**  
```json
{
  "crm_room_ids": [3]
}
```

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø     | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|--------------|---------|--------------|--------------------------------------------------------------------------|
| crm_room_ids | array   | –Ω–µ—Ç          | –ú–∞—Å—Å–∏–≤ ID –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ.   |

#### –û—Ç–≤–µ—Ç 200 OK

~~~json
{
  "status": "success",
  "data": [
    {
      "id": 3,
      "office_id": 1,
      "name": "–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¢–µ—Å—Ç (–∫–∞–∫–æ–π—Ç–æ —Ç–µ–∫—Å—Ç)",
      "comment": "",     
      "min_time": "08:00:00",
      "max_time": "19:00:00",
      "grid_pitch": 10,    
      "fio": "–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¢–µ—Å—Ç",   
      "office": {
        "id": 1,
        "name": "–ú–û –ú–æ—Å–∫–≤–∞",
        "address": "–ú–æ—Å–∫–≤–∞, —É–ª. –£–ª–∏—Ü–∞, –¥–æ–º 33",
        "phones": "–¥–æ–±. 4017,4023",
        "comment": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –£–ª–∏—Ü–∞, –¥–æ–º 33",
        "city": "–ú–æ—Å–∫–≤–∞",
        "time_zone": "+03:00",
        "is_deleted": 0,
        "erp_medoffice_id": 1
        "city_id": 4400
      },
      "isActiveApiPrice": true
    },
    {...}
  ]
}
~~~

#### –û—Ç–≤–µ—Ç 200 OK
–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å–∏–ª–∏ –∫–∞–±–∏–Ω–µ—Ç –ø–æ [id] –Ω–æ –ø—Ä–∏—à–µ–ª –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç, –∑–Ω–∞—á–∏—Ç –∫–∞–±–∏–Ω–µ—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω. –ò–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª –±—ã—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º –∫–∞–±–∏–Ω–µ—Ç–æ–º crm.room.is_procedure = 0
~~~json
{
    "status": "success",
    "data": []
}
~~~

#### –û—Ç–≤–µ—Ç 200 –û–ö
–ï—Å–ª–∏ –∫–∞–∫–∏–µ –ª–∏–±–æ –æ—à–∏–±–∫–∏
```json
{
  "status": "fail",
  "error": "–¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º",
  "code": (int) –∫–æ–¥ –æ—à–∏–±–∫–∏
}
```


#### –ü–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ –∫–∞–±–∏–Ω–µ—Ç–∞

| –ü–æ–ª–µ                        | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                                                               |
|-----------------------------|-----------|------------------------------------------------------------------------|
| `id`                        | integer   | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–±–∏–Ω–µ—Ç–∞ (crm.room.id)                        |
| `office_id`                 | integer   | ID –æ—Ñ–∏—Å–∞ (crm.office.id)                                               |
| `name`                      | string    | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞                                                      |
| `comment`                   | string    | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π  –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 255 —Å–∏–º–≤–æ–ª–æ–≤                            |
| `min_time`                  | time      | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã (`HH:MM:SS`)                                       |
| `max_time`                  | time      | –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã (`HH:MM:SS`)                                    |
| `fio`                       | string    | –ß–∏—Å—Ç–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–≤ name –±—ã–≤–∞—é—Ç –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø –∏–Ω—Ñ—É - –¥–ª—è crm)           |
| `isActiveApiPrice`          | boolean   | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ –ª–∏ API –¥–ª—è PRICE !!!                                     |
| `office`                    | object    | –û–±—ä–µ–∫—Ç –æ—Ñ–∏—Å–∞ (—Å–º. –Ω–∏–∂–µ)                                                |

#### –ü–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ `office`

| –ü–æ–ª–µ               | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
|--------------------|-----------|------------------------------------------------------------|
| `id`               | integer   | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ñ–∏—Å–∞ (crm.office.id)             |
| `name`             | string    | –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ñ–∏—Å–∞                                             |
| `address`          | string    | –ê–¥—Ä–µ—Å                                                      |
| `phones`           | string    | –¢–µ–ª–µ—Ñ–æ–Ω—ã                                                   |
| `comment`          | string    | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 255 —Å–∏–º–≤–æ–ª–æ–≤                 |
| `city`             | string    | –ì–æ—Ä–æ–¥                                                      |
| `time_zone`        | string    | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (`+03:00`)                                    |
| `is_deleted`       | integer   | –§–ª–∞–≥ —É–¥–∞–ª–µ–Ω–∏—è (0/1)                                        |
| `erp_medoffice_id` | integer   | ID –º–µ–¥–æ—Ñ–∏—Å–∞ –≤ ERP                                          |
| `city_id`          | integer   | ERP –≥–æ—Ä–æ–¥ ID (erp.city.id)                                 |



# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Ä–∞—á–µ–π (–±–µ–∑ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö, –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∏ –•–∞–±–∞—Ä–æ–≤—Å–∫–∞)

`–ú–µ—Ç–æ–¥: POST /api/price/schedule/rooms`<br>
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `crm_room_ids` ‚Äî –º–∞—Å—Å–∏–≤–æ–º.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "crm_room_ids": [1, 2]
}
```

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `crm_room_ids` –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ –≤—Ä–∞—á–∏, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä—ã.

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–∫–æ–¥ 200):**
```json
{
    "status": "success",
    "data": [
        {
            "id": 49,
            "office_id": 1,
            "name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á, –ø—Ä–∏–ø–∏—Å–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å",
            "comment": "",
            "created_by": 332,
            "created_at": "2022-06-28 12:35:54",
            "min_time": "08:00:00",
            "max_time": "19:00:00",
            "grid_pitch": 60,
            "specialty_id": 69,
            "fio": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
            "user_id_attached": null,
            "grid_pitch_alternative": null,
            "bot_enable": 1,
            "is_deleted": 0,
            "user_id": 321,
            "erp_employee_id": 623,
            "title": null,
            "achievements": null,
            "education": null,
            "experience": null,
            "hide_profession_in_title": 0,
            "erp_medoffice_id": null,
            "erp_employee_doctor_id": 58,
            "is_procedure": 0,
            "is_khabarovsk": 0,
            "erp_analysis_ids": null,
            "med_doctor_id": null,
            "is_enable_schedule_from_med": 0,
            "accept_children": 0,
            "office": {
                "id": 1,
                "name": "–ú–û –ú–æ—Å–∫–≤–∞",
                "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, –¥. 33.",
                "phones": "–¥–æ–±. 4017,4023",
                "comment": "–≥. –ú–æ—Å–∫–≤–∞, –¥–ª—ã–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç",
                "city": "–ú–æ—Å–∫–≤–∞",
                "time_zone": "+03:00",
                "is_deleted": 0,
                "erp_medoffice_id": 1,
                "city_id": 4400
            },
            "isActiveApiPrice": true,
            "specialtyName": "–ì–µ–Ω–µ—Ç–∏–∫"
        }
    ]
}
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- `isActiveApiPrice` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ API –¥–ª—è price



**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–∫–æ–¥ 200):**
–£–∫–∞–∑–∞–ª–∏ –æ–¥–∏–Ω crm_room_ids –Ω–æ –¥–æ–ø—É—Å—Ç–∏–º –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω, –≤–µ—Ä–Ω—ë—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

```json
{
    "status": "success",
    "data": []
}
```



## üìò –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —è—á–µ–µ–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤

### üì° –ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞
`POST /api/price/schedule/procedure-cells`

---

### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è—á–µ–µ–∫ (—Å–≤–æ–±–æ–¥–Ω—ã—Ö –∏ –∑–∞–Ω—è—Ç—ã—Ö) –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 14 –¥–Ω–µ–π, –Ω–∞—á–∏–Ω–∞—è —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.<br>
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã–±–æ—Ä–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `crm_room_ids`.

---

### üîß –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON)

| –ü–∞—Ä–∞–º–µ—Ç—Ä       | –¢–∏–ø    | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------|--------|--------------|----------|
| `crm_room_ids` | array  | –ù–µ—Ç          | –ú–∞—Å—Å–∏–≤ ID –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã –ø–æ –∫–æ—Ç–æ—Ä—ã–º –µ—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ. |

#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "crm_room_ids": [3, 5, 7]
}
```

#### –û—Ç–≤–µ—Ç
```json
{
  "status": "success",
  "data": {
    "1": {
      "3": {
        "fio": "–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ú–æ—Å–∫–≤–∞",
        "crm_room_id": 3,
        "cells": [
          {
            "dt": "2025-05-21",
            "time_start": "08:00:00",
            "time_end": "08:10:00",
            "free": 1,
            "type": 1,
            "crm_appointment_id": null,
          },
          {
            "dt": "2025-05-21",
            "time_start": "08:10:00",
            "time_end": "08:20:00",
            "free": 0,
            "type": 1,
            "crm_appointment_id": 102001,
          }
        ]
      }
    }
  }
}
```

 "1" - —ç—Ç–æ crm.office.id<br>
 "3" - —ç—Ç–æ crm.room.id<br>
 
–ü—Ä–∏–¥—É—Ç –≤—Å–µ —è—á–µ–π–∫–∏ (—Å–≤–æ–±–æ–¥–Ω—ã–µ –∏ –∑–∞–Ω—è—Ç—ã–µ)<br>
free = 1 - —Å–≤–æ–±–æ–¥–Ω–∞<br>
free = 0 - –∑–∞–Ω—è—Ç–∞<br>

type = 1 - –æ—Ñ–ª–∞–π–Ω –ø—Ä–∏—ë–º. (–î–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –Ω–µ–∞–≤–µ—Ä–Ω–æ–µ –≤—Å–µ–≥–¥–∞ 1)<br>
type = 3 - –æ–Ω–ª–∞–π–Ω –ø—Ä–∏—ë–º.<br>


#### –û—Ç–≤–µ—Ç 200 –û–ö, –µ—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–∏—Ç –Ω–µ –∞–∫—Ç–∏–≤–Ω–æ api —É –∫–∞–±–∏–Ω–µ—Ç–∞ –∏–ª–∏ –æ–Ω –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π –∏–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–æ —Ä–∞—Å—Å–ø–∏—Å–∞–Ω–∏–µ.
```json
{
    "status": "success",
    "data": []
}
```

#### –û—Ç–≤–µ—Ç 200 –û–ö
–ï—Å–ª–∏ –∫–∞–∫–∏–µ –ª–∏–±–æ –æ—à–∏–±–∫–∏
```json
{
  "status": "fail",
  "error": "–¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏",
  "code": (int) –∫–æ–¥ –æ—à–∏–±–∫–∏
}
```



## üßë‚Äç‚öïÔ∏è –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —è—á–µ–µ–∫ –í–†–ê–ß–ï–ô

### üì° –ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞
`POST /api/price/schedule/cells`

---

### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è—á–µ–µ–∫ (—Å–≤–æ–±–æ–¥–Ω—ã—Ö –∏ –∑–∞–Ω—è—Ç—ã—Ö) –¥–ª—è –≤—Ä–∞—á–µ–π –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 14 –¥–Ω–µ–π, –Ω–∞—á–∏–Ω–∞—è —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.<br>
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã–±–æ—Ä–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –≤—Ä–∞—á–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `crm_room_ids`.

---

### üîß –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON)

| –ü–∞—Ä–∞–º–µ—Ç—Ä       | –¢–∏–ø    | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------|--------|--------------|----------|
| `crm_room_ids` | array  | –ù–µ—Ç          | –ú–∞—Å—Å–∏–≤ ID –≤—Ä–∞—á–µ–π. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ –í—Ä–∞—á–∏ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –µ—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ. |

#### üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "crm_room_ids": [3, 5, 7]
}
```

#### –û—Ç–≤–µ—Ç
```json
{
    "status": "success",
    "data": {
        "1": {
            "49": {
                "fio": "–©–µ—Ä–±–∞ –ú–∞—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞",
                "crm_room_id": 49,
                "cells": [
                    {
                        "dt": "2025-06-26",
                        "time_start": "10:00:00",
                        "time_end": "11:00:00",
                        "free": 1,
                        "type": 1,
                        "crm_appointment_id": null
                    },
                    {
                        "dt": "2025-06-26",
                        "time_start": "11:00:00",
                        "time_end": "12:00:00",
                        "free": 1,
                        "type": 1,
                        "crm_appointment_id": null
                    },                   
                ]
            }
        }
    }
}
```

 "1" - —ç—Ç–æ crm.office.id<br>
 "49" - —ç—Ç–æ crm.room.id<br>
 
–ü—Ä–∏–¥—É—Ç –≤—Å–µ —è—á–µ–π–∫–∏ (—Å–≤–æ–±–æ–¥–Ω—ã–µ –∏ –∑–∞–Ω—è—Ç—ã–µ)<br>
free = 1 - —Å–≤–æ–±–æ–¥–Ω–∞<br>
free = 0 - –∑–∞–Ω—è—Ç–∞<br>

type = 1 - –æ—Ñ–ª–∞–π–Ω –ø—Ä–∏—ë–º.<br>
type = 3 - –æ–Ω–ª–∞–π–Ω –ø—Ä–∏—ë–º.<br>


#### –û—Ç–≤–µ—Ç 200 –û–ö, –µ—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–∏—Ç –Ω–µ –∞–∫—Ç–∏–≤–Ω–æ api —É –í–†–ê–ß–ê –∏–ª–∏ –æ–Ω –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π –∏–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–æ —Ä–∞—Å—Å–ø–∏—Å–∞–Ω–∏–µ.
```json
{
    "status": "success",
    "data": []
}
```

#### –û—Ç–≤–µ—Ç 200 –û–ö
–ï—Å–ª–∏ –∫–∞–∫–∏–µ –ª–∏–±–æ –æ—à–∏–±–∫–∏
```json
{
  "status": "fail",
  "error": "–¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏",
  "code": (int) –∫–æ–¥ –æ—à–∏–±–∫–∏
}
```
!!!




# –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ –¥–ª—è –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –∏ –¥–ª—è –í—Ä–∞—á–µ–π)

### POST `/api/price/schedule/reserve-slot`

–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ –Ω–∞ 20 –º–∏–Ω—É—Ç.

> ‚ö†Ô∏è –ù–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç

### –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ—Ç. –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤—Ä–∞—á–∞/–∫–∞–±–∏–Ω–µ—Ç–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏<br>
–í —Å–ª—É—á–∞–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å crm_appointment_id - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (JSON —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞)

| –ü–∞—Ä–∞–º–µ—Ç—Ä       | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|----------------|---------|------------------------------------------|
| crm_room_id    | int     | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤—Ä–∞—á–∞/–∫–∞–±–∏–Ω–µ—Ç–∞ (crm.room.id) |
| analysis_id    | int     | ID —Ç–µ—Å—Ç–∞ erp.analysis.id                 |
| dt             | string  | –î–∞—Ç–∞ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ Y-m-d)         |
| time_start     | string  | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (—Ñ–æ—Ä–º–∞—Ç H:i:s)                |
| time_end       | string  | –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è (—Ñ–æ—Ä–º–∞—Ç H:i:s)             |

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "crm_room_id": 3,
  "analysis_id": 25,
  "dt": "2025-05-21",
  "time_start": "08:00:00",
  "time_end": "08:10:00"
}
```

#### –û—Ç–≤–µ—Ç 200 –û–ö
```json
{
    "status": "success",
    "data": {
        "crm_appointment_id": 98435
    }
}
```



### –û—à–∏–±–∫–∏ –û—Ç–≤–µ—Ç 200 –û–ö
```json
{
    "status": "fail",
    "error": "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏—ë–º–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Å—Ç—É!",
    "code": 13
}
```

```json
{
    "status": "fail",
    "error": "–î–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —É–∂–µ –∑–∞–Ω—è—Ç–æ.",
    "code": 13
}
```



## üìò API: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏—ë–º–∞ –ø–æ —Ç–µ—Å—Ç–∞–º


### –û–ø–∏—Å–∞–Ω–∏–µ:
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏—ë–º–∞ (–≤ –º–∏–Ω—É—Ç–∞—Ö) –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ –∏—Ö `analysis_id`.  
–ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ `analysis_ids` –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω ‚Äî –≤–µ—Ä–Ω—É—Ç—Å—è –≤—Å–µ –∑–∞–ø–∏—Å–∏.
–ï—Å–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∑–Ω–∞—á–∏—Ç –ø—Ä–∏—ë–º –¥–ª–∏—Ç—Å—è 10 –º–∏–Ω—É—Ç.


### URL: `/api/price/schedule/duration-analysis`
### üì• –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ [] –∏–ª–∏ [erp.analysis.id, ...]

```json
{
  "analysis_ids": [25, 30]
}
```

#### –û—Ç–≤–µ—Ç 200 –û–ö
```json
{
    "status": "success",
    "data": {
        "25": 20,
        "30": 20,
        "317": 20,
        "426": 40,
        "439": 20
    }
}
```

"25" - —ç—Ç–æ erp.analysis.id


#### –û—Ç–≤–µ—Ç 200 –û–ö (–∑–Ω–∞—á–∏—Ç –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç—É)
```json
{
    "status": "success",
    "data": []
}
```


# –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –ü–∞—Ü–∏–µ–Ω—Ç—É (–æ–ø–ª–∞—Ç–∞ –µ—â—ë –Ω–µ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å).
### URL: `/api/price/schedule/confirm-appointment`


#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ö–ª—é—á                | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|---------------------|---------|----------------------------------------------------|
| `lk_id`             | int     | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞                     |
| `crm_appointment_id`| int     | crm.appointment.id                                 |
| `price_order_uid`   | string  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ –∏–∑ –ø—Ä–∞–π—Å–∞          |
| `p_email`           | string  | Email –ø–∞—Ü–∏–µ–Ω—Ç–∞                                     |
| `p_family`          | string  | –§–∞–º–∏–ª–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞                                   |
| `p_name`            | string  | –ò–º—è –ø–∞—Ü–∏–µ–Ω—Ç–∞                                       |
| `p_sex`             | int     | –ü–æ–ª –ø–∞—Ü–∏–µ–Ω—Ç–∞ (1 - –ú; 2 - –ñ)                        |
| `p_phone`           | string  | (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)                                     |

#### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ö–ª—é—á                | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|---------------------|---------|----------------------------------------------------|
| `p_patronymic`      | string  | –û—Ç—á–µ—Å—Ç–≤–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞                                  |
| `p_birth`           | string  | –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `Y-m-d`                    |

---

## –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü–æ `crm_appointment_id` –∏—â–µ—Ç—Å—è —Å–ª–æ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `crm.appointment`.
   - –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:  
     `"–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"`

2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `Patient::getOrCreatePatientFromPrice($data)`:
   - –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:  
     `"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞: <—Ç–µ–∫—Å—Ç_–æ—à–∏–±–∫–∏>"`

4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–æ–¥–µ–ª—å Appointment:
   - –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:  
     `"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏: <—Å–ø–∏—Å–æ–∫_–æ—à–∏–±–æ–∫>"`


---
### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```json
{
  "lk_id": 123,
  "crm_appointment_id": 98435,
  "price_order_uid": "622F2BCDC6C31", 
  "p_email": "patient@example.com",
  "p_family": "–ò–≤–∞–Ω–æ–≤",
  "p_name": "–ò–≤–∞–Ω", 
  "p_patronymic": "–ò–≤–∞–Ω–æ–≤–∏—á",
  "p_sex": 1,
  "p_phone": "79001234567",
  "p_birth": "1980-12-30",
}
```

#### –û—Ç–≤–µ—Ç 200 –û–ö
```json
{
    "status": "success",
    "data": [
        "–î–∞–Ω–Ω—ã–µ –ø–æ –ø–∞—Ü–∏–µ–Ω—Ç—É –¥–æ–±–∞–≤–ª–µ–Ω—ã"
    ]
}
```


#### –û—à–∏–±–∫–∏ 200 –û–ö 
```json
{
    "status": "fail",
    "error": "–ù–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: crm_appointment_id",
    "code": 10
}
```

```json
{
    "status": "fail",
    "error": "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ",
    "code": 14
}
```

```json
{
    "status": "fail",
    "error": "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞: –ó–Ω–∞—á–µ–Ω–∏–µ ¬´Email –∑–∞–∫–∞–∑—á–∏–∫–∞¬ª –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º email –∞–¥—Ä–µ—Å–æ–º.",
    "code": 14
}
```


# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã
### URL: `/api/price/schedule/after-paid`

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ö–ª—é—á                | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|---------------------|---------|----------------------------------------------------|
| `crm_appointment_id`| int     | crm.appointment.id                                 |

---
### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```json
{ 
  "crm_appointment_id": 98435, 
}
```

#### –û—Ç–≤–µ—Ç 200 –û–ö
```json
{
    "status": "success",
    "data": [
        "–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ"
    ]
}
```

#### –û—à–∏–±–∫–∏ 200 –û–ö 
```json
{
    "status": "fail",
    "error": "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ",
    "code": 15
}
```

# –ú–µ—Ç–æ–¥ —Å—Ä–∞–∑—É –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã (–Ω—É–∂–Ω–æ –ø—Ä–∏—Å—ã–ª–∞—Å—Ç—å —Å—Ä–∞–∑—É –≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
### URL: `/api/price/schedule/reserve-and-pay`

### –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–æ–º–µ `p_patronymic`

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```json
{ 
  "crm_room_id": 97,
  "analysis_id": 1992,
  "dt": "2025-07-11",
  "time_start": "08:00:00",
  "time_end": "08:30:00",
  "lk_id": 124,  
  "price_order_uid": "622F2BCDC6C32", 
  "p_email": "patient@example.com",
  "p_phone": "79001234567",
  "p_family": "–ò–≤–∞–Ω–æ–≤",
  "p_name": "–ò–≤–∞–Ω", 
  "p_patronymic": "–ò–≤–∞–Ω–æ–≤–∏—á",
  "p_sex": 1,
  "p_birth": "1980-12-30"
}
```
#### –û—Ç–≤–µ—Ç 200 –û–ö
```json
{
    "status": "success",
    "data": {
        "crm_appointment_id": 102305
    }
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç—ã FAIL 200
```
{
    "status": "fail",
    "error": "–î–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —É–∂–µ –∑–∞–Ω—è—Ç–æ.",
    "code": 13
}
```
```
{
    "status": "fail",
    "error": "–ù–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: p_birth",
    "code": 10
}
```
```
{
    "status": "fail",
    "error": "–î–∞–Ω–Ω—ã–π —Å–ª–æ—Ç –≤–Ω–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—Ä–∞—á–∞!",
    "code": 13
}
```
```
{
    "status": "fail",
    "error": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–∞–∫–æ–≥–æ –ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç Rules())",
    "code": 13
}
```




## üßæ –ö–æ–¥—ã –æ—à–∏–±–æ–∫ API

–û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –≤ –ø–æ–ª–µ `code` –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ `"fail"`:

| –ö–æ–¥ | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                         |
|-----|-------------------------------|------------------------------------------------------------------|
| 2   | `CODE_BAD_API`                | –ù–µ–≤–µ—Ä–Ω—ã–π API-–∫–ª—é—á. –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø—Ä–æ—à—ë–ª –ø—Ä–æ–≤–µ—Ä–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.        |
| 8   | `CODE_NOT_FOUND`              | –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç  –Ω–µ –Ω–∞–π–¥–µ–Ω.                                 |
| 9   | `CODE_INVALID_FORMAT`         | –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON.  |
| 10  | `CODE_REQUIRED_PARAM`         | –ù–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞.                      |
| 11  | `CODE_ALREADY_EXIST`          | –û–±—ä–µ–∫—Ç —Å —Ç–∞–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç .                        |
| 13  | `CODE_VALIDATION`             | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏                                          |
| 14  | `CODE_ERROR_CONFIRM`          | –û—à–∏–±–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–ª–æ—Ç–∞.                                      |
| 15  | `CODE_ERROR_CONFIRM_PAID`     | –û—à–∏–±–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã.                                     |
| 16  | `CODE_ALREADY_TAKEN`          | –î–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —É–∂–µ –∑–∞–Ω—è—Ç–æ.                                         |



